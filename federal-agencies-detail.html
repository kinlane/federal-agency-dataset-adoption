---
layout: page
title: Federal Agency
---
{% raw  %}
<script id="agencyTemplate" type="text/template">

    <center><h2>{{name}}</h2></center>
    <p align="center"><img src="{{logo}}" width="250" style="padding: 15px;" /></a></p>
    <p align="center">
        <a href="{{url}}" target="_blank" title="{{name}}">{{url}}</a>
     </p>      
</script>
{% endraw %}

<div>
    <div id="agencyDetail"> </div>
</div>  

<script type="text/javascript">
function getFederAgencyDetails(thisagencyid)
    {
    $.getJSON('data/federal-agencies.json', function(data) {
         $.each(data['agencies'], function(key, val) {
            
            agency_id = val['agency_id']; 

            if(thisagencyid == agency_id)
                {
                    
                var template = $('#agencyTemplate').html();
                var html = Mustache.to_html(template, val);
                $('#agencyDetail').append(html);     
               
                
                }
            });                                    
        });
    }  

var agencyid = getUrlVar('agency_id');
getFederAgencyDetails(agencyid);
</script>

{% raw  %}
<script id="agencydatatemplate" type="text/template">

    <tr>
        <td>{{name}}</td>
    </tr>
    
</script>
{% endraw %}

<div>
    <table id="agencydata"> </table>
</div>  

<script type="text/javascript">
function getFederalAgencyDatasets(thisagencyid)
    {
    alert(thisagencyid);
    agencydatajsonurl = '/data/' + thisagencyid + '.json';    
    $.getJSON(agencydatajsonurl, function(data) {
         $.each(data, function(key, val) {  
            var template = $('#agencydatatemplate').html();
            var html = Mustache.to_html(template, val);
            $('#agencydata').append(html);     
            });                                    
        });
    }  
getFederalAgencyDatasets(agencyid);    
</script>
